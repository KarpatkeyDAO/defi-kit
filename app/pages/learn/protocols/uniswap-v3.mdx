import { Callout } from "nextra/components"

# Uniswap v3

https://app.uniswap.org/

**Deployments**

| Name           | Address                                                                                                               |
| :------------- | :-------------------------------------------------------------------------------------------------------------------- |
| `PositionsNFT` | [0xC36442b4a4522E871399CD717aBDD847Ab11FE88](https://etherscan.io/address/0xC36442b4a4522E871399CD717aBDD847Ab11FE88) |

## Action: `deposit`

**Parameters**

| Name      | Type                  | Description                       |
| :-------- | :-------------------- | :-------------------------------- |
| `targets` | _string[] (optional)_ | `NftId` nft_id                    |
| `tokens`  | _string[] (optional)_ | `Token` symbol \| `Token` address |
| `avatar`  | _address (required)_  | `Address` avatar                  |

<Callout type="info">
  `TARGET` below refers to the ERC-721 token id (NFT Id) of each element given
  in `targets`. If `targets` is not specified then the NFT Ids owned by the
  `avatar` will be queried on-chain.
</Callout>

<Callout type="info">
  `TOKEN` below refers to the ERC-20 token address of each element given in
  `tokens`. If `tokens` is not specified then the pool tokens of each `TARGET`
  are considered.
</Callout>

<Callout type="warning">
  If `targets` is not specified and the `avatar` does not own any ERC-721 tokens
  it's highly recommended to specify `tokens` to get the proper permissions to
  mint new positions. Be aware that if `targets` is void then the
  `increaseLiquidity` function won't be constrained by NftId which could incur
  in funds loss.
</Callout>

### `TOKEN · approve`

Approve `PositionsNFT` to spend `TOKEN` tokens on behalf of the avatar.

- **Contract:** `TOKEN`
- **Function:** `approve(address,uint256)`

  | Parameter | Constraint              |
  | :-------- | :---------------------- |
  | `spender` | equal to `PositionsNFT` |
  | `amount`  | -                       |

### `mint · PositionsNFT`

Deposit `TOKEN` tokens to the corresponding Uniswap v3 pool and receive an ERC-721 token (NFT) representing the newly minted liquidity position.

- **Contract:** `PositionsNFT`
- **Function:** `mint((address,address,uint24,int24,int24,uint256,uint256,uint256,uint256,address,uint256))` Ξ _allow sending ETH_

  | Parameter                | Constraint       |
  | :----------------------- | :--------------- |
  | `params.token0`          | equal to `TOKEN` |
  | `params.token1`          | equal to `TOKEN` |
  | `params.fee`             | -                |
  | `params.tick_lower`      | -                |
  | `params.tick_upper`      | -                |
  | `params.amount0_desired` | -                |
  | `params.amount1_desired` | -                |
  | `params.amount0_min`     | -                |
  | `params.amount1_min`     | -                |
  | `params.deadline`        | -                |

### `increaseLiquidity · PositionsNFT`

Increase the liquidity in a NFT position by adding the desired amounts of `token0` and `token1`.

- **Contract:** `PositionsNFT`
- **Function:** `increaseLiquidity((uint256,uint256,uint256,uint256,uint256,uint256))` Ξ _allow sending ETH_

  | Parameter                | Constraint        |
  | :----------------------- | :---------------- |
  | `params.tokenId`         | equal to `TARGET` |
  | `params.amount0_desired` | -                 |
  | `params.amount1_desired` | -                 |
  | `params.amount0_min`     | -                 |
  | `params.amount1_min`     | -                 |
  | `params.deadline`        | -                 |

### `decreaseLiquidity · PositionsNFT`

Decrease the liquidity in a NFT position by removing the the desired liquidity amount.

- **Contract:** `PositionsNFT`
- **Function:** `decreaseLiquidity((uint256,uint128,uint256,uint256,uint256))`

  | Parameter            | Constraint |
  | :------------------- | :--------- |
  | `params.tokenId`     | -          |
  | `params.liquidity`   | -          |
  | `params.amount0_min` | -          |
  | `params.amount1_min` | -          |
  | `params.deadline`    | -          |
